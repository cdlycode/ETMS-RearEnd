# 企业培训管理系统-后端

#### 介绍
企业培训管理系统-后端代码

### 2021年12月13日站会记录

1、工作计划：分析企业培训管理系统核心功能，划分模块，预计分为6个模块，完成模块功能分析及数据库字段设计；

2、工作安排：杨贵麟 -> 我的主页，李松 -> 培训实施、评估，漆玉 -> 培训管理，佘赛飞 -> 培训需求，张磊 -> 培训计划，赖勇 -> 后台基础管理
            我的主页相关字段初步讨论已完成，今日上午继续完成培训实施及后续字段完善的讨论；

3、注意：除必须字段外，每个表（中间表除外）需要添加"创建人、创建时间、修改人、修改时间"四个字段。

![产品思维](https://tva1.sinaimg.cn/large/008i3skNly1gxc4a3ta70j30vj0oqacy.jpg)







### 2021年12月14日站会记录

1、昨日工作完成情况：成员完成各模块数据库表设计，进行汇总讨论完善，形成初版数据库设计；

![ETMS-ETMS[管理系统]](https://tva1.sinaimg.cn/large/008i3skNgy1gxcjncplbpj30vv0u0juq.jpg)

2、昨日问题：

​	**赖勇**：流程表存在可变的审批节点，无法使用字段解决。采用添加审批记录表，将一个流程分成多个审批记录，每个审批人一条记录一个结果一个序号；流程表和计划表重叠部分，可以将计划表当作流程表直接与审批记录表直接关联。

​	**漆玉**：

​		1.设计数据库时出现了用户表与各个其他模块产生繁多联系 理不清 在个人项目能力模型表上也很费神 最终在12月14日早上站会定下：单独拎一个模型表（类似于菜单），再建立与课程、个人用户、培训项目的关联表 其中包含分数；
​		2.前端找模板的时候 克隆安装老是出现一些奇奇怪怪的问题 费时费力 安装又安装半天 然后还报错 0 0 结果还把自己的Git玩坏了 重安也不得行 发现是npm install时 把.gitconfig（git的全局配置）给写乱了因为写了很多从网上摘抄的根本看不懂的代码..

​	**张磊**：问题：数据库审核逻辑设计，数据库预算逻辑设计；解决办法：组长设计数据库审核逻辑部分，预算单独提取出来，让预算更加灵活多变；

​	**杨贵麟**：完成了数据库个人中心，题库及试卷数据库的设计，以及云端服务器环境的搭建，包括数据库，nginx，redis，JDK运行环境，以及网站访问端口的配置，网站域名的解析，以及测试项目的运行，最终完成springboot测试项目成功运行。
​	问题：跑项目的时候端口的配置，测试项目运行的时候数据库连不上，最后发现3306端口没开，在本地用sqlyog连接云端服务器的时候报2003错误，最后发现本地没有权限去连接云端服务器，折腾了很久搞定。

​	**李松**：对数据库字段的考虑不周，前端代码不能运行，数据库与建模软件的连通。

​	**佘赛飞**：问题：设计数据库的字段不是很有清晰。解决：和组员一起把整个模块的流程梳理了一下；

​		   问题：调研的问题字段，如何存储，人数怎么统计。解决：问题和答案在页面写死，然后数据库存储答案，统计选这个答案的人数。

3、今日计划：数据库设计通过后，开始后端代码的编写。

​	杨贵麟 -> 个人信息页面的**个人信息查询与修改**功能，我的培训页面**培训信息查询**功能；

​	李松 -> 培训详情页面1**培训内容查询**，培训详情页面2**培训内容及课件查询**；

​	漆玉 -> 培训项目主页**培训项目的查询**，新建**培训项目的新增**；

​	赖勇 -> 培训项目**报名、进度、大纲的新增、学员的查询**；

​	张磊 -> 需求主页的**需求查询**，需求发布的**需求新增**；

​	佘赛飞 -> 需求管理的需求调研的**新增**，需求收集的**查询**。







### 2021年12月15日站会记录

1、昨日工作完成情况：个人信息查询与修改功能完成，我的培训页面查询完成，培训项目新增功能完成，报名，进度查询完成，需求查询和新增完成。（目前第一周进度30%左右）

2、昨日问题总结：

​	**漆玉**：

​		1.新增培训项目的时候，发现是同时增加3个表的内容，思索良久后整理出来包装成一个DTO，同时敲代码的时候也理解到了事务层，事务管理的重要性 
​		2.sql语句还是一个重难点 重灾区
​		3.yml配置文件中：url还应该添加时区serverTimezone=Asia/Shanghai 字体useUnicode=true&characterEncoding=utf-8

​	**张磊**：

​		问题：1.查询时Controller数据接收不到；2.新增sql语句id填null不能新增
​		解决：1.发现是多种数据接受方式杂糅在了一起，理清思路选择统 一的数据接收方式；2.发现是id字段没有自增属性，解决方法有两种，一种是修改sql语句，一种是修改数据库，最后选择了修改数据库库

​	**杨贵麟**：昨日遇到的问题：查询的时候一直查不出来后台能打印，但是返回不到前端，最后发现是拦截器忘记注解了，还有thymeleaf解析报错，最后发现是多引入了thmeleaf的依赖包最后删掉就能运行了。

​	**李松**：问题：设计功能时发现表的设计不够严谨，最后多添加了一张中间表，并对其他表的字段进行了修改。查询时结果需要去重的问题，最后在sql语句中添加了distinct关键字代替了service层中的Set集合。

​	**佘赛飞**：调研表中的问题和答案通过一张表完成，最后拆分成三张表，调研表、题目表、答案表，通过一个中间表进行联合查询。

3、今日计划：

​	杨贵麟 -> 培训详情页面1**培训内容查询**

​	李松 -> 培训详情页面2**培训内容目录及课件查询**；根据我的培训模块修改选修课程模块的**课程查询**

​	漆玉 -> 培训项目主页**培训项目的查询**；

​	赖勇 -> 培训项目**报名、进度、大纲的新增、学员的查询**；

​	张磊 -> 我的收集页面的**收集进度查询**，协助佘赛飞完成调研表新增功能。

​	佘赛飞 -> 需求管理的需求调研的**新增**。







### 2021年12月16日站会记录

1、昨日工作完成情况：培训内容查询完成、培训详情页2查询完成、我的培训页培训内容查询、选修课程培训内容查询完成、需求与调研详情查询、收集进度查询功能完成、调研题目和答案的查询和新增完成、培训项目查询功能完成、我的主页综合查询完成80%（目前第一周后端进度80%左右）



2、昨日问题总结：

​	**漆玉**：

​		1.写完新增，跟组员整理时发现又有新冲突，又修改
​		2.第一次合并到主分支dev 解决merge 感觉很新颖 感觉也不过如此hhh 虽然后面还是手动修改了些....
​		3.遇到4 5 表联查 问了下身边的朋友 建议我还是多写几个sql 在service层里面多写点逻辑较好
​		4.在做项目中不断的重复修炼写sql语句。。 感觉有在进步

​	**张磊**：

​		问题：一对一关联查询、一对多关联查询和多对多关联查询sql编写进展缓慢，foreach动态sql运用错误，多表关联查询查不出结果（要么查不出，要么映射不上）。
​		解决：查阅资料，复习笔记，试错，边用边学，边学边用

​	**杨贵麟**：

​		问题：合并代码的时候，把mybatis里面的一个实体类驼峰与数据库下划线的配置给合掉了，所以导致查不出数据，但是有查询记录  解决：打debug看了很久  

​		问题：requestBody的使用不熟练  解决：查资料并且练习

​	**李松**：

​		问题：多表联查的结果不准确、执行sql语句时数据库中字段的下划线和实体类驼峰不匹配、合并代码时大部分文件名和文件冲突、表设计不严谨

​	**佘赛飞**：

​		问题:代码写到一半发现数据查的数据不对。解决:分析数据库，差一张中间表

​		问题:在写mapper.xml文件中写for循环不知道怎么写。解决:百度解决问题

​		问题:在写sql语句的连表查询时,没有思路。解决:和同桌讨论

​	**赖勇**：

​		项目大纲查询中存在分级关系，要查出一个带有分级关系的集合，通过新建了两个类（目录类和课件类），通过resultMap进行对象关系映射，查询出一个带有分级可直接使用的集合；能力模型查询中，应该是一个controller可以满足用户、项目、课程的查询，新建了一个类（属性为查询主体subject，主体id），xml中使用动态sql分别到不同的中间表查询，返回的整体集合通过一个自定义的整理类整理成分类好的集合，遇到一个集合迭代中不可以对集合进行修改的问题，最后通过removeIf对满足条件的元素进行删除。



3、今日计划：

​	杨贵麟 -> **个人信息、培训详情页1**的前端页面

​	李松 -> **我的培训、选修课程**前端页面

​	漆玉 -> **我的主页、培训项目主页**前端页面

​	赖勇 -> 培训项目**报名、进度查询**前端页面

​	张磊 -> **需求主页、需求发布**前端页面

​	佘赛飞 -> **需求管理、调研**前端页面
